<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shali Grade Calculator</title>
  <style>
    body {
      font-family: sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      background: purple;
      min-height: 100vh;
      margin: 0;
    }
    .container {
      background: rgba(255, 255, 255, 0.1);
      padding: 30px;
      border-radius: 10px;
      text-align: center;
      width: 100%;
      max-width: 500px;
    }
    h2 {
      margin-bottom: 20px;
      color: yellow;
    }
    .image-box {
      background: rgba(255, 255, 255, 0.5);
      padding: 15px;
      border-radius: 10px;
      margin-top: 20px;
    }
    .image-box img {
      width: 100%;
      max-width: 500px;
      border-radius: 10px;
    }
    .subject {
      display: flex;
      gap: 10px;
      margin-top: 15px;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }
    .subject input {
      flex: 1;
      padding: 8px;
      border-radius: 7.5px;
      border: none;
    }
    .remove-button {
      background: red;
      color: white;
      border: none;
      padding: 0 10px;
      cursor: pointer;
      border-radius: 5px;
    }
    button {
      background: #2ecc71;
      color: white;
      border: none;
      padding: 10px 15px;
      margin: 5px;
      cursor: pointer;
      border-radius: 5px;
    }
    a {
      text-decoration: none;
      background: #2ecc71;
      padding: 10px 20px;
      border-radius: 5px;
      color: white;
      margin-top: 20px;
      display: inline-block;
    }
    #result-box {
      margin-top: 20px;
      background: rgba(255, 255, 255, 0.5);
      padding: 15px;
      border-radius: 8px;
      display: none;
    }
    .grade {
      font-size: 1.5rem;
      font-weight: bold;
      margin: 10px 0;
    }
    #feedback {
      font-size: 1rem;
    }
    @media (max-width: 400px) {
      .subject {
        flex-direction: column;
      }
      .remove-button {
        width: 100%;
        padding: 5px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Shali Grade Calculator</h2>
    <div class="image-box">
      <img src="myLogo.jpeg" alt="My Logo">
    </div>
    <div class="subject">
      <input type="text" class="subjectInput" placeholder="Subject Name">
      <input type="number" class="numberInput" placeholder="Score" max="100" min="0">
      <button class="remove-button">X</button>
    </div>
    <button id="addSubject">Add Subject</button>
    <button id="calculate">Calculate Average</button>
    <div id="result-box">
      <h3>Your Average Grade</h3>
      <div id="percentageDisplay" class="grade">50%</div>
      <br>
      <h3>GPA</h3>
      <div class="grade" id="gpa"></div>
      <br>
      <h3>Letter Grade</h3>
      <div class="grade" id="letterGrade"></div>
      <br>
      <div id="feedback">Great job! You're doing your best to perform above average.</div>
    </div>
    <br>
    <a href="index.html">Go to About page</a>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      let resultBox = document.querySelector("#result-box");
      document.querySelector("#addSubject").addEventListener('click', function() {
        resultBox.style.display = "none";
        const newSubject = document.createElement('div');
        newSubject.className = "subject";
        newSubject.innerHTML = `
          <input type="text" class="subjectInput" placeholder="Subject Name">
          <input type="number" class="numberInput" placeholder="Score" min="0" max="100">
          <button class="remove-button">X</button>
        `;
        document.querySelector('.container').insertBefore(newSubject, this);
        document.querySelectorAll(".remove-button").forEach(button => 
          button.addEventListener('click', function() {
            this.parentElement.remove();
          })
        );
      });

      document.querySelector("#calculate").addEventListener('click', getResult);

      function getResult() {
        resultBox.style.display = "block";
        let percentageDisplay = document.querySelector("#percentageDisplay");
        const gpa = document.querySelector("#gpa");
        const letterGrade = document.querySelector("#letterGrade");
        let feedback = document.querySelector("#feedback");
        let numbers = [];
        let isNotValid = false;

        document.querySelectorAll(".numberInput").forEach(num => {
          const value = Number(num.value);
          if (num.value.trim() !== "") {
            if (isNaN(value) || value > 100 || value < 0) {
              isNotValid = true;
            } else {
              numbers.push(value);
            }
          }
        });

        if (isNotValid) {
          feedback.textContent = "Scores have to be between 0 and 100.";
          percentageDisplay.textContent = "-";
          gpa.textContent = "-";
          letterGrade.textContent = "-";
          return;
        }

        if (numbers.length === 0) {
          resultBox.style.display = "none";
          return;
        }

        let sum = numbers.reduce((acc, value) => acc + value, 0);
        let average = sum / numbers.length;
        percentageDisplay.textContent = average.toFixed(1) + "%";

        if (average >= 90) {
          feedback.textContent = "Excellent work! Keep up your outstanding performance!";
          resultBox.style.backgroundColor = '#2ecc71';
        } else if (average >= 80) {
          feedback.textContent = "Great job! Your performance is above average.";
          resultBox.style.backgroundColor = '#27ae60';
        } else if (average >= 70) {
          feedback.textContent = "Good effort! You're on a nice track, but there's still much room for improvement.";
          resultBox.style.backgroundColor = '#f1c40f';
        } else if (average >= 60) {
          feedback.textContent = "You're getting there, but don't forget to consistently review your course material to better your understanding.";
          resultBox.style.backgroundColor = '#e67e22';
        } else if (average >= 50) {
          feedback.textContent = "You're below average. Focus on improving these scores.";
          resultBox.style.backgroundColor = '#e74c3c';
        } else {
          feedback.textContent = "Needs significant improvement, so study hard and don't hesitate to ask for help.";
          resultBox.style.backgroundColor = '#c0392b';
        }

        if (average >= 97) {
          gpa.textContent = "4.0";
          letterGrade.textContent = "A+";
        } else if (average >= 93) {
          gpa.textContent = "4.0";
          letterGrade.textContent = "A";
        } else if (average >= 90) {
          gpa.textContent = "3.7";
          letterGrade.textContent = "A-";
        } else if (average >= 87) {
          gpa.textContent = "3.3";
          letterGrade.textContent = "B+";
        } else if (average >= 83) {
          gpa.textContent = "3.0";
          letterGrade.textContent = "B";
        } else if (average >= 80) {
          gpa.textContent = "2.7";
          letterGrade.textContent = "B-";
        } else if (average >= 77) {
          gpa.textContent = "2.3";
          letterGrade.textContent = "C+";
        } else if (average >= 73) {
          gpa.textContent = "2.0";
          letterGrade.textContent = "C";
        } else if (average >= 70) {
          gpa.textContent = "1.7";
          letterGrade.textContent = "C-";
        } else if (average >= 67) {
          gpa.textContent = "1.3";
          letterGrade.textContent = "D+";
        } else if (average >= 65) {
          gpa.textContent = "1.0";
          letterGrade.textContent = "D";
        } else {
          gpa.textContent = "0.0";
          letterGrade.textContent = "F";
        }
      }

      document.addEventListener('keydown', function(e) {
        if (e.key === "Enter") {
          getResult();
        }
      });
    });
  </script>
</body>
</html>
